<?xml version='1.0' encoding='UTF-8'?>
<odoo>

      <record id="view_account_move_donation_field" model="ir.ui.view">
        <field name="name">Invoice Donation field</field>
        <field name="model">account.move</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//field[@name='ref']" position="after">
                    <field name="donation_invoice_id" readonly="1" attrs="{'invisible':[('donation_invoice_id','=',False)]}"/>
                </xpath>
                <xpath expr="//button[@name='button_cancel']" position="after">
                    <button name="custom_mabs.create_donation_invoice" string="Donation invoice"
                            class="oe_highlight" type="action" groups="account.group_account_invoice"
                            attrs="{'invisible' : ['|','|',('move_type','!=','in_invoice'),
                                    ('donation_invoice_id', '!=', False),('state','!=','posted')]}"/>
                </xpath>
            </data>
        </field>
    </record>

</odoo>
